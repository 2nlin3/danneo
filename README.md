# danneo
Danneo CMS 1.5.6 (beta-3)

Модульная, мультиязычная, мультисайтовая, мультиплатформенная, с открытым исходным 
кодом, система управления сайтами.

Простая установка, легкость в управлении, минимальная нагрузка на сервер, а так же 
широкая базовая комплектация позволяет построить интерактивный веб-сайт любой сложности, 
и в дальнейшем эффективно им управлять.

Распространяется в соответствии с лицензией GNU General Public 2.
http://danneo.ru/license

ВОЗМОЖНОСТИ
-----------
http://danneo.ru/feature

БАЗОВЫЕ МОДУЛИ
--------------
http://danneo.ru/modules


СИСТЕМНЫЕ ТРЕБОВАНИЯ
--------------------
База данных MySQL версии 5.0 или выше.
Интерпретатор PHP версии 5.3 или выше, предпочтительно установленный как модуль (mod_php).
Обязательные модули и расширения: GD, Zlib, ZIP, cURL, mbString, JSON.

Подробнее: http://danneo.ru/requirements


УСТАНОВКА
=========
1. Распаковать архив, загрузить файлы и папки на сервер.
2. Установить права на запись (777) для файлов и папок:
   cache/
   up/
   core/config.php
3. В браузере ввести http://ваш_сайт/setup/
4. Далее следовать инструкциям установки.


ОБНОВЛЕНИЕ
==========
1. Сделать резервную копию файла: core/config.php
2. Распаковать архив, загрузить файлы и папки из каталога www на сервер (с заменой).
3. Восстановить файл core/config.php из резервной копии.
4. В браузере ввести http://ваш_сайт/setup/
5. Далее следовать инструкциям установки.

!!! ВАЖНО !!!
При обновлении, выполнить 1 и 3 пункты в логической последовательности.


СПИСОК ИЗМЕНЕНИЙ
================
14 Июля 2020
1. В каталоге товаров, добавлен функционал импорта / экспорта товаров.
    Форматы:
    Экспорт в XLSX, XML, CSV.
    Импорт из XLS, XLSX, XML, CSV.
    Из базы выгружаются четыре параметра (ID товара, категория, название, цена).
    В ядро системы добавлен набор классов для работы с офисными форматами.
    Пока базовый функционал, главное выгрузка и импорт работают, а дальше уже можно дорабатывать.
    При импорте обновляются поля: название, цена, старая цена.
    Обновление старой цены настраивается опционально, можно отключить в настройках.

2. Для пользователей, добавлена загрузка своих аватаров.
    Во время загрузки, имеется возможность выбрать нужный квадрат на фото, и сохранить с обрезкой.
    Количество загружаемых аватаров один, можно удалить или заменить новым.
    Ограничений на количество повторных загрузок нет.
    Форматы загружаемых изображений: gif, jpg, png, webp.
    Максимальный размер загружаемого файла: 2 Мб.

3. Доработана дата и время последнего посещения сайта пользователем.
    Добавлено доп. поле в таблицу юзеров, в которое записывается дата предыдущего посещения.
    Даты обновляются во время авторизации пользователя, а не при выходе, как было до этого.
    Теперь накладок с датой последнего визита не будет, даже если пользователь просто закроет окно и "уйдет по английски".
   
4. Исправлены ошибки найденные в бете 2.
    В новых модах Видеогалерея, Тендеры, Организации.
    Ошибка при добавлении меню в панели.

В новой версии работает установка и обновление.
Для тех кто вносил изменения в функционал, при обновлении нет смысла изучать все внесенные изменения, их очень много.
Проще отслеживать свои изменения, и корректировать код.

При обновлении, не забываем делать резервные копии старых файлов и базы.
Просьба активнее тестировать.

27 Июня 2020
Новая публичная версия Danneo CMS 1.5.6 (beta).

Добавлены все патчи, адаптирована для PHP 7.4
Тестировалась на на PHP 7.4.5 и MySQL 8.0.19

Из нововведений.
Добавлены города и посёлки в раздел "География".

В системе появится база населенных пунктов по странам СНГ, с геоданными. Само собой, база пополняемая и редактируемая.
Расширен функционал управления географией.
Появилась возможность выключать определенные страны, регионы или города, без удаления из базы.
Отключенные данные не будут выводиться на сайте.

В связи с этим, доработаны модули "Пользователи" и "Каталог товаров".
Для пользователей, в панели управления администратором и в личном кабинете.
Для каталога, на странице заказа товара.

Добавлен выпадающий список "Город".
Если нужного города или посёлка в нет, можно добавить свой, для этого в выпадающем списке необходимо выбрать пункт "Свой город, посёлок".
При этом, появится дополнительное поле "Свой город, посёлок".

Тестируем, сообщаем об ошибках, вносим предложения.
Можно использовать как чистую установку, так и обновление.
Не забываем делать резервные копии.

04 Июля 2020
Новая публичная версия Danneo CMS 1.5.6 (beta-2).
В базовую сборку добавлены модули - Видеогалерея, Организации, Тендеры.

Так же, выполнялись мелкие правки по коду.

Работает как установка, так и обновление.
Просьба тестировать, особое внимание новому функционалу.

29 Июня 2017
1. Исправлена ошибка сохранения ключевых слов (поле keywords), при редактировании новости.
2. Изменения в функционале хлебных крошек (навигационная цепочка).
    Для удобства работы с шаблоном, первый пункт перенесен из функциональной части в шаблон.
    Название первого пункта изменено, теперь по умолчанию, это "Главная", вместо названия сайта.
    Название, а также оформление данного пункта можно изменить непосредственно в шаблоне:
    template/Lite/breadcrumb.tpl

3 Июня 2017
1. Исправлено кеширование блочных позиций.
2. Исправлена ошибка проверки артикула при пересохранении товара.
3. Исправлены ошибки при добавлении Доп. поля "Многострочное текстовое поле", в каталоге товаров.

23 Мая 2017
1. Добавлен класс Video, импорт данных видео из популярных сервисов.
2. Доработан класс Image. Добавлены методы urlimg(), tmpfile(), unique(), url_thumb().

18 Мая 2017
1. Исправлена ошибка в расчете доставки, в каталоге товаров.
2. Исправлена ошибка добавления фото в моде Фотогалерея. Не сохранялись теги.
3. Исправлен вывод ссылок в Фотогалерее (на сайте), в разделе "Поделиться". Изменены относительные на прямые.

4 Мая 2017
1. Исправлена ошибка листинга (постраничной разбивки) в разделе "Перелинковка", в панели управления.
2. Исправлено форматирование цены свойства price стандарта schema.org, в каталоге товаров.
3. Доработки в настройках валют, в каталоге товаров.
    а) В поле "Разделитель тысячных" добавлен пункт "Пробел".
    б) В поле "Количество знаков после запятой" добавлена возможность указывать 0 или пусто.

14 Апреля 2017

Модуль "Организации" для Danneo
https://github.com/NukeVlad/dn-mod-firms

Добавлена возможность отправки SMS-сообщений в сети мобильных операторов.
Создан функционал для работы с API онлайн сервисов SMS-центр и SMS.RU
Сервис включен в виде отдельного нода "Сервисы SMS", в разделе "Управление системой".
1. Общие настройки
    а) Включить SMS оповещение (Да / Нет).
    б) Выбрать сервис SMS
2. Отдельные страницы настроек для сервисов SMS-центр и SMS.RU
    С подробными описаниями методов классов, а также проверок работы сервиса.

ДОПОЛНИТЕЛЬНЫЕ МОДУЛИ
================
Модуль "Тендеры" для Danneo CMS
https://github.com/NukeVlad/dn-mod-tender

Модуль "Организации" для Danneo
https://github.com/NukeVlad/dn-mod-firms

Модуль "Отзывы" для Danneo CMS 1.5.1 (Next)
https://github.com/NukeVlad/dn-mod-respond

Модуль Видеогалерея для Danneo CMS v.1.5.3
https://github.com/NukeVlad/dn-mod-video

ФОРУМ ПОДДЕРЖКИ
================
http://forum.danneo.ru

Надеемся, что наши разработки окажутся полезными для вас!
Danneo Team.
